---
title: "news_data_prep"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(caret)
library(ggplot2)
library(dplyr)
library(gbm)
```



## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

# 0. Read datasets
```{r}
news_data <- read.csv('Data/dat_train.csv')
news_data$popular<-ifelse(news_data$shares<1400,"yes","no")
#str(news_data)
myControl <- trainControl(
  method = "cv",
  number = 5,
  verboseIter = FALSE
)
model_gbm <- train(popular ~., data = news_data[,!names(news_data) %in% c("url","timedelta","shares")], method = "gbm",
                   trControl = myControl)
model_gbm
summary(model_gbm)
```

